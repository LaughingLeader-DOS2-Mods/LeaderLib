Version 1
SubGoalCombiner SGC_AND
INITSECTION
LeaderLib_GameScripts_InitSettings();
KBSECTION
PROC
LeaderLib_GameScripts_InitSettings()
THEN
LeaderLib_GameScripts_RegisterScript("LeaderLib.GameScripts", "LeaderLib_21_GS_RequirementEvents");

PROC
LeaderLib_GameScripts_RegisterScript((STRING)_Group, (STRING)_GoalName)
THEN
DB_LeaderLib_GameScripts_Registered(_Group, _GoalName);

//REGION SCRIPT_TOGGLING
IF
RegionEnded(_Region)
AND
IsGameLevel(_Region, 1)
AND
DB_LeaderLib_GameScripts_Registered(_Group, _GoalName)
AND
SysIsActive(_GoalName)
THEN
SysCompleteGoal(_GoalName);

IF
GameStarted(_Region, _)
AND
IsGameLevel(_Region, 1)
AND
DB_LeaderLib_GameScripts_Registered(_Group, _GoalName)
AND
SysStatus(_GoalName, _Status) // Hopefully fails for scripts that don't exist?
AND
_Status != 2 // 2 == ACTIVE
THEN
SysActivateGoal(_GoalName);
//END_REGION

//REGION UPDATES
PROC
LeaderUpdater_ModUpdated("LeaderLib", "LaughingLeader", (STRING)_PastVersion, (STRING)_CurrentVersion)
THEN
LeaderLib_GameScripts_InitSettings();
//END_REGION
EXITSECTION

ENDEXITSECTION
ParentTargetEdge "LaughingLeader__LeaderLib"