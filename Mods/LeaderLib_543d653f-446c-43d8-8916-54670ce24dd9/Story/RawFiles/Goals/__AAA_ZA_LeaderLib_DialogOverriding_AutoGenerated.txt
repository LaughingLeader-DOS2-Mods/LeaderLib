Version 1
SubGoalCombiner SGC_AND
INITSECTION
/* This script is auto-generated via dos2de_leaderlib_dialogredirection in DivinityTools*/
KBSECTION
//REGION GET_REDIRECTION_TARGET_6
QRY
LeaderLib_DialogOverride_QRY_GetRedirectionTarget((STRING)_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5, (GUIDSTRING)_Speaker6)
AND
NOT DB_LeaderLib_DialogOverride_Redirection_BlacklistedDialog(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5, (GUIDSTRING)_Speaker6)
AND
LeaderLib_DialogOverride_QRY_CanRedirect(_Dialog)
AND
LeaderLib_DialogOverride_QRY_CanRedirectObject(_Speaker6)
AND
NOT LeaderLib_DialogOverride_QRY_SpeakersHaveAvatar((GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5, (GUIDSTRING)_Speaker6)
AND
DB_Avatars(_Avatar)
AND
NOT DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, _, _)
AND
QRY_SpeakerIsAvailable((GUIDSTRING)_Avatar, 0)
AND
LeaderLib_Helper_QRY_ObjectUserMatch((GUIDSTRING)_Speaker6, (GUIDSTRING)_Avatar)
THEN
DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, (GUIDSTRING)_Avatar, _Speaker6);
DB_LeaderLib_DialogOverride_Temp_Order(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5, (GUIDSTRING)_Avatar);

QRY
LeaderLib_DialogOverride_QRY_GetRedirectionTarget((STRING)_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5, (GUIDSTRING)_Speaker6)
AND
NOT DB_LeaderLib_DialogOverride_Redirection_BlacklistedDialog(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5, (GUIDSTRING)_Speaker6)
AND
LeaderLib_DialogOverride_QRY_CanRedirect(_Dialog)
AND
LeaderLib_DialogOverride_QRY_CanRedirectObject(_Speaker5)
AND
NOT LeaderLib_DialogOverride_QRY_SpeakersHaveAvatar((GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5, (GUIDSTRING)_Speaker6)
AND
DB_Avatars(_Avatar)
AND
NOT DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, _, _)
AND
QRY_SpeakerIsAvailable((GUIDSTRING)_Avatar, 0)
AND
LeaderLib_Helper_QRY_ObjectUserMatch((GUIDSTRING)_Speaker5, (GUIDSTRING)_Avatar)
THEN
DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, (GUIDSTRING)_Avatar, _Speaker5);
DB_LeaderLib_DialogOverride_Temp_Order(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Avatar, (GUIDSTRING)_Speaker6);

QRY
LeaderLib_DialogOverride_QRY_GetRedirectionTarget((STRING)_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5, (GUIDSTRING)_Speaker6)
AND
NOT DB_LeaderLib_DialogOverride_Redirection_BlacklistedDialog(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5, (GUIDSTRING)_Speaker6)
AND
LeaderLib_DialogOverride_QRY_CanRedirect(_Dialog)
AND
LeaderLib_DialogOverride_QRY_CanRedirectObject(_Speaker4)
AND
NOT LeaderLib_DialogOverride_QRY_SpeakersHaveAvatar((GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5, (GUIDSTRING)_Speaker6)
AND
DB_Avatars(_Avatar)
AND
NOT DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, _, _)
AND
QRY_SpeakerIsAvailable((GUIDSTRING)_Avatar, 0)
AND
LeaderLib_Helper_QRY_ObjectUserMatch((GUIDSTRING)_Speaker4, (GUIDSTRING)_Avatar)
THEN
DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, (GUIDSTRING)_Avatar, _Speaker4);
DB_LeaderLib_DialogOverride_Temp_Order(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Avatar, (GUIDSTRING)_Speaker5, (GUIDSTRING)_Speaker6);

QRY
LeaderLib_DialogOverride_QRY_GetRedirectionTarget((STRING)_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5, (GUIDSTRING)_Speaker6)
AND
NOT DB_LeaderLib_DialogOverride_Redirection_BlacklistedDialog(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5, (GUIDSTRING)_Speaker6)
AND
LeaderLib_DialogOverride_QRY_CanRedirect(_Dialog)
AND
LeaderLib_DialogOverride_QRY_CanRedirectObject(_Speaker3)
AND
NOT LeaderLib_DialogOverride_QRY_SpeakersHaveAvatar((GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5, (GUIDSTRING)_Speaker6)
AND
DB_Avatars(_Avatar)
AND
NOT DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, _, _)
AND
QRY_SpeakerIsAvailable((GUIDSTRING)_Avatar, 0)
AND
LeaderLib_Helper_QRY_ObjectUserMatch((GUIDSTRING)_Speaker3, (GUIDSTRING)_Avatar)
THEN
DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, (GUIDSTRING)_Avatar, _Speaker3);
DB_LeaderLib_DialogOverride_Temp_Order(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Avatar, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5, (GUIDSTRING)_Speaker6);

QRY
LeaderLib_DialogOverride_QRY_GetRedirectionTarget((STRING)_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5, (GUIDSTRING)_Speaker6)
AND
NOT DB_LeaderLib_DialogOverride_Redirection_BlacklistedDialog(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5, (GUIDSTRING)_Speaker6)
AND
LeaderLib_DialogOverride_QRY_CanRedirect(_Dialog)
AND
LeaderLib_DialogOverride_QRY_CanRedirectObject(_Speaker2)
AND
NOT LeaderLib_DialogOverride_QRY_SpeakersHaveAvatar((GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5, (GUIDSTRING)_Speaker6)
AND
DB_Avatars(_Avatar)
AND
NOT DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, _, _)
AND
QRY_SpeakerIsAvailable((GUIDSTRING)_Avatar, 0)
AND
LeaderLib_Helper_QRY_ObjectUserMatch((GUIDSTRING)_Speaker2, (GUIDSTRING)_Avatar)
THEN
DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, (GUIDSTRING)_Avatar, _Speaker2);
DB_LeaderLib_DialogOverride_Temp_Order(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Avatar, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5, (GUIDSTRING)_Speaker6);
//END_REGION

//REGION GET_REDIRECTION_TARGET_5
QRY
LeaderLib_DialogOverride_QRY_GetRedirectionTarget((STRING)_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5)
AND
NOT DB_LeaderLib_DialogOverride_Redirection_BlacklistedDialog(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5)
AND
LeaderLib_DialogOverride_QRY_CanRedirect(_Dialog)
AND
LeaderLib_DialogOverride_QRY_CanRedirectObject(_Speaker5)
AND
NOT LeaderLib_DialogOverride_QRY_SpeakersHaveAvatar((GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5)
AND
DB_Avatars(_Avatar)
AND
NOT DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, _, _)
AND
QRY_SpeakerIsAvailable((GUIDSTRING)_Avatar, 0)
AND
LeaderLib_Helper_QRY_ObjectUserMatch((GUIDSTRING)_Speaker5, (GUIDSTRING)_Avatar)
THEN
DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, (GUIDSTRING)_Avatar, _Speaker5);
DB_LeaderLib_DialogOverride_Temp_Order(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Avatar);

QRY
LeaderLib_DialogOverride_QRY_GetRedirectionTarget((STRING)_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5)
AND
NOT DB_LeaderLib_DialogOverride_Redirection_BlacklistedDialog(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5)
AND
LeaderLib_DialogOverride_QRY_CanRedirect(_Dialog)
AND
LeaderLib_DialogOverride_QRY_CanRedirectObject(_Speaker4)
AND
NOT LeaderLib_DialogOverride_QRY_SpeakersHaveAvatar((GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5)
AND
DB_Avatars(_Avatar)
AND
NOT DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, _, _)
AND
QRY_SpeakerIsAvailable((GUIDSTRING)_Avatar, 0)
AND
LeaderLib_Helper_QRY_ObjectUserMatch((GUIDSTRING)_Speaker4, (GUIDSTRING)_Avatar)
THEN
DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, (GUIDSTRING)_Avatar, _Speaker4);
DB_LeaderLib_DialogOverride_Temp_Order(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Avatar, (GUIDSTRING)_Speaker5);

QRY
LeaderLib_DialogOverride_QRY_GetRedirectionTarget((STRING)_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5)
AND
NOT DB_LeaderLib_DialogOverride_Redirection_BlacklistedDialog(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5)
AND
LeaderLib_DialogOverride_QRY_CanRedirect(_Dialog)
AND
LeaderLib_DialogOverride_QRY_CanRedirectObject(_Speaker3)
AND
NOT LeaderLib_DialogOverride_QRY_SpeakersHaveAvatar((GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5)
AND
DB_Avatars(_Avatar)
AND
NOT DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, _, _)
AND
QRY_SpeakerIsAvailable((GUIDSTRING)_Avatar, 0)
AND
LeaderLib_Helper_QRY_ObjectUserMatch((GUIDSTRING)_Speaker3, (GUIDSTRING)_Avatar)
THEN
DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, (GUIDSTRING)_Avatar, _Speaker3);
DB_LeaderLib_DialogOverride_Temp_Order(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Avatar, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5);

QRY
LeaderLib_DialogOverride_QRY_GetRedirectionTarget((STRING)_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5)
AND
NOT DB_LeaderLib_DialogOverride_Redirection_BlacklistedDialog(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5)
AND
LeaderLib_DialogOverride_QRY_CanRedirect(_Dialog)
AND
LeaderLib_DialogOverride_QRY_CanRedirectObject(_Speaker2)
AND
NOT LeaderLib_DialogOverride_QRY_SpeakersHaveAvatar((GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5)
AND
DB_Avatars(_Avatar)
AND
NOT DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, _, _)
AND
QRY_SpeakerIsAvailable((GUIDSTRING)_Avatar, 0)
AND
LeaderLib_Helper_QRY_ObjectUserMatch((GUIDSTRING)_Speaker2, (GUIDSTRING)_Avatar)
THEN
DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, (GUIDSTRING)_Avatar, _Speaker2);
DB_LeaderLib_DialogOverride_Temp_Order(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Avatar, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4, (GUIDSTRING)_Speaker5);
//END_REGION

//REGION GET_REDIRECTION_TARGET_4
QRY
LeaderLib_DialogOverride_QRY_GetRedirectionTarget((STRING)_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4)
AND
NOT DB_LeaderLib_DialogOverride_Redirection_BlacklistedDialog(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4)
AND
LeaderLib_DialogOverride_QRY_CanRedirect(_Dialog)
AND
LeaderLib_DialogOverride_QRY_CanRedirectObject(_Speaker4)
AND
NOT LeaderLib_DialogOverride_QRY_SpeakersHaveAvatar((GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4)
AND
DB_Avatars(_Avatar)
AND
NOT DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, _, _)
AND
QRY_SpeakerIsAvailable((GUIDSTRING)_Avatar, 0)
AND
LeaderLib_Helper_QRY_ObjectUserMatch((GUIDSTRING)_Speaker4, (GUIDSTRING)_Avatar)
THEN
DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, (GUIDSTRING)_Avatar, _Speaker4);
DB_LeaderLib_DialogOverride_Temp_Order(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Avatar);

QRY
LeaderLib_DialogOverride_QRY_GetRedirectionTarget((STRING)_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4)
AND
NOT DB_LeaderLib_DialogOverride_Redirection_BlacklistedDialog(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4)
AND
LeaderLib_DialogOverride_QRY_CanRedirect(_Dialog)
AND
LeaderLib_DialogOverride_QRY_CanRedirectObject(_Speaker3)
AND
NOT LeaderLib_DialogOverride_QRY_SpeakersHaveAvatar((GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4)
AND
DB_Avatars(_Avatar)
AND
NOT DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, _, _)
AND
QRY_SpeakerIsAvailable((GUIDSTRING)_Avatar, 0)
AND
LeaderLib_Helper_QRY_ObjectUserMatch((GUIDSTRING)_Speaker3, (GUIDSTRING)_Avatar)
THEN
DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, (GUIDSTRING)_Avatar, _Speaker3);
DB_LeaderLib_DialogOverride_Temp_Order(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Avatar, (GUIDSTRING)_Speaker4);

QRY
LeaderLib_DialogOverride_QRY_GetRedirectionTarget((STRING)_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4)
AND
NOT DB_LeaderLib_DialogOverride_Redirection_BlacklistedDialog(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4)
AND
LeaderLib_DialogOverride_QRY_CanRedirect(_Dialog)
AND
LeaderLib_DialogOverride_QRY_CanRedirectObject(_Speaker2)
AND
NOT LeaderLib_DialogOverride_QRY_SpeakersHaveAvatar((GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4)
AND
DB_Avatars(_Avatar)
AND
NOT DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, _, _)
AND
QRY_SpeakerIsAvailable((GUIDSTRING)_Avatar, 0)
AND
LeaderLib_Helper_QRY_ObjectUserMatch((GUIDSTRING)_Speaker2, (GUIDSTRING)_Avatar)
THEN
DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, (GUIDSTRING)_Avatar, _Speaker2);
DB_LeaderLib_DialogOverride_Temp_Order(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Avatar, (GUIDSTRING)_Speaker3, (GUIDSTRING)_Speaker4);
//END_REGION

//REGION GET_REDIRECTION_TARGET_3
QRY
LeaderLib_DialogOverride_QRY_GetRedirectionTarget((STRING)_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3)
AND
NOT DB_LeaderLib_DialogOverride_Redirection_BlacklistedDialog(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3)
AND
LeaderLib_DialogOverride_QRY_CanRedirect(_Dialog)
AND
LeaderLib_DialogOverride_QRY_CanRedirectObject(_Speaker3)
AND
NOT LeaderLib_DialogOverride_QRY_SpeakersHaveAvatar((GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3)
AND
DB_Avatars(_Avatar)
AND
NOT DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, _, _)
AND
QRY_SpeakerIsAvailable((GUIDSTRING)_Avatar, 0)
AND
LeaderLib_Helper_QRY_ObjectUserMatch((GUIDSTRING)_Speaker3, (GUIDSTRING)_Avatar)
THEN
DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, (GUIDSTRING)_Avatar, _Speaker3);
DB_LeaderLib_DialogOverride_Temp_Order(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Avatar);

QRY
LeaderLib_DialogOverride_QRY_GetRedirectionTarget((STRING)_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3)
AND
NOT DB_LeaderLib_DialogOverride_Redirection_BlacklistedDialog(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3)
AND
LeaderLib_DialogOverride_QRY_CanRedirect(_Dialog)
AND
LeaderLib_DialogOverride_QRY_CanRedirectObject(_Speaker2)
AND
NOT LeaderLib_DialogOverride_QRY_SpeakersHaveAvatar((GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2, (GUIDSTRING)_Speaker3)
AND
DB_Avatars(_Avatar)
AND
NOT DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, _, _)
AND
QRY_SpeakerIsAvailable((GUIDSTRING)_Avatar, 0)
AND
LeaderLib_Helper_QRY_ObjectUserMatch((GUIDSTRING)_Speaker2, (GUIDSTRING)_Avatar)
THEN
DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, (GUIDSTRING)_Avatar, _Speaker2);
DB_LeaderLib_DialogOverride_Temp_Order(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Avatar, (GUIDSTRING)_Speaker3);
//END_REGION

//REGION GET_REDIRECTION_TARGET_2
QRY
LeaderLib_DialogOverride_QRY_GetRedirectionTarget((STRING)_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2)
AND
NOT DB_LeaderLib_DialogOverride_Redirection_BlacklistedDialog(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2)
AND
LeaderLib_DialogOverride_QRY_CanRedirect(_Dialog)
AND
LeaderLib_DialogOverride_QRY_CanRedirectObject(_Speaker2)
AND
NOT LeaderLib_DialogOverride_QRY_SpeakersHaveAvatar((GUIDSTRING)_Speaker1, (GUIDSTRING)_Speaker2)
AND
DB_Avatars(_Avatar)
AND
NOT DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, _, _)
AND
QRY_SpeakerIsAvailable((GUIDSTRING)_Avatar, 0)
AND
LeaderLib_Helper_QRY_ObjectUserMatch((GUIDSTRING)_Speaker2, (GUIDSTRING)_Avatar)
THEN
DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, (GUIDSTRING)_Avatar, _Speaker2);
DB_LeaderLib_DialogOverride_Temp_Order(_Dialog, (GUIDSTRING)_Speaker1, (GUIDSTRING)_Avatar);
//END_REGION
EXITSECTION

ENDEXITSECTION