Version 1
SubGoalCombiner SGC_AND
INITSECTION

KBSECTION
//REGION REGISTER_OVERRIDE
PROC
LeaderLib_DialogOverride_Register_RegularDialog((GUIDSTRING)_Speaker, (STRING)_ReplacedDialog, (STRING)_UseDialog)
THEN
DB_LeaderLib_DialogOverride_Registered_RegularDialog((GUIDSTRING)_Speaker, _ReplacedDialog, _UseDialog);
LeaderLib_ToggleScripts_EnableScript("LeaderLib_RegularDialogOverridingEnabled", "LeaderLib");

// For dialogs that start with behavior scripting or voice barks, we have to stop it and start the replacement
// Behavior scripting dialog started with DialogStart will always be automated
PROC
LeaderLib_DialogOverride_Register_AutomatedDialog((GUIDSTRING)_Speaker, (STRING)_ReplacedDialog, (STRING)_UseDialog)
THEN
DB_LeaderLib_DialogOverride_Registered_AutomatedDialog((GUIDSTRING)_Speaker, _ReplacedDialog, _UseDialog);
LeaderLib_ToggleScripts_EnableScript("LeaderLib_AutomatedDialogOverridingEnabled", "LeaderLib");

PROC
LeaderLib_DialogOverride_Register_BlacklistDialogForRedirection((STRING)_Dialog)
THEN
DB_LeaderLib_DialogOverride_Redirection_BlacklistedDialog(_Dialog);
//END_REGION

//REGION SPEAKER_MATCHING
QRY
LeaderLib_DialogOverride_QRY_SpeakerMatch((STRING)_Dialog, (GUIDSTRING)_Target, (GUIDSTRING)_S1, (GUIDSTRING)_S2)
AND
NOT DB_LeaderLib_DialogOverride_Temp_Match(_Dialog, _Target)
AND
_Target == _S1
THEN
DB_LeaderLib_DialogOverride_Temp_Match(_Dialog, _Target);

QRY
LeaderLib_DialogOverride_QRY_SpeakerMatch((STRING)_Dialog, (GUIDSTRING)_Target, (GUIDSTRING)_S1, (GUIDSTRING)_S2)
AND
NOT DB_LeaderLib_DialogOverride_Temp_Match(_Dialog, _Target)
AND
_Target == _S2
THEN
DB_LeaderLib_DialogOverride_Temp_Match(_Dialog, _Target);

QRY
LeaderLib_DialogOverride_QRY_SpeakerMatch((STRING)_Dialog, (GUIDSTRING)_Target, (GUIDSTRING)_S1, (GUIDSTRING)_S2, (GUIDSTRING)_S3, (GUIDSTRING)_S4, (GUIDSTRING)_S5, (GUIDSTRING)_S6)
AND
NOT DB_LeaderLib_DialogOverride_Temp_Match(_Dialog, _Target)
AND
LeaderLib_DialogOverride_QRY_SpeakerMatch(_Dialog, _Target, _S1, _S2)
THEN
DB_LeaderLib_DialogOverride_Temp_Match(_Dialog, _Target);

QRY
LeaderLib_DialogOverride_QRY_SpeakerMatch((STRING)_Dialog, (GUIDSTRING)_Target, (GUIDSTRING)_S1, (GUIDSTRING)_S2, (GUIDSTRING)_S3, (GUIDSTRING)_S4, (GUIDSTRING)_S5, (GUIDSTRING)_S6)
AND
NOT DB_LeaderLib_DialogOverride_Temp_Match(_Dialog, _Target)
AND
LeaderLib_DialogOverride_QRY_SpeakerMatch(_Dialog, _Target, _S3, _S4)
THEN
DB_LeaderLib_DialogOverride_Temp_Match(_Dialog, _Target);

QRY
LeaderLib_DialogOverride_QRY_SpeakerMatch((STRING)_Dialog, (GUIDSTRING)_Target, (GUIDSTRING)_S1, (GUIDSTRING)_S2, (GUIDSTRING)_S3, (GUIDSTRING)_S4, (GUIDSTRING)_S5, (GUIDSTRING)_S6)
AND
NOT DB_LeaderLib_DialogOverride_Temp_Match(_Dialog, _Target)
AND
LeaderLib_DialogOverride_QRY_SpeakerMatch(_Dialog, _Target, _S5, _S6)
THEN
DB_LeaderLib_DialogOverride_Temp_Match(_Dialog, _Target);

QRY
LeaderLib_DialogOverride_QRY_SpeakerMatch((STRING)_Dialog, (GUIDSTRING)_Target, (GUIDSTRING)_S1, (GUIDSTRING)_S2, (GUIDSTRING)_S3, (GUIDSTRING)_S4, (GUIDSTRING)_S5)
AND
NOT DB_LeaderLib_DialogOverride_Temp_Match(_Dialog, _Target)
AND
LeaderLib_DialogOverride_QRY_SpeakerMatch(_Dialog, _Target, _s1, _S2, _S3, _S4, _s5, NULL_00000000-0000-0000-0000-000000000000)
THEN
DB_LeaderLib_DialogOverride_Temp_Match(_Dialog, _Target);

QRY
LeaderLib_DialogOverride_QRY_SpeakerMatch((STRING)_Dialog, (GUIDSTRING)_Target, (GUIDSTRING)_S1, (GUIDSTRING)_S2, (GUIDSTRING)_S3, (GUIDSTRING)_S4)
AND
NOT DB_LeaderLib_DialogOverride_Temp_Match(_Dialog, _Target)
AND
LeaderLib_DialogOverride_QRY_SpeakerMatch(_Dialog, _Target, _s1, _S2, _S3, _S4, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000)
THEN
DB_LeaderLib_DialogOverride_Temp_Match(_Dialog, _Target);

QRY
LeaderLib_DialogOverride_QRY_SpeakerMatch((STRING)_Dialog, (GUIDSTRING)_Target, (GUIDSTRING)_S1, (GUIDSTRING)_S2, (GUIDSTRING)_S3)
AND
NOT DB_LeaderLib_DialogOverride_Temp_Match(_Dialog, _Target)
AND
LeaderLib_DialogOverride_QRY_SpeakerMatch(_Dialog, _Target, _s1, _S2, _S3, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000, NULL_00000000-0000-0000-0000-000000000000)
THEN
DB_LeaderLib_DialogOverride_Temp_Match(_Dialog, _Target);
//END_REGION

//REGION DIALOG_PROC_START_DIALOG_OVERRIDE
PROC
LeaderLib_DialogOverride_Internal_StartDialog((INTEGER)_Automated,(INTEGER)_RedirectionEnabled,(STRING)_Dialog,(GUIDSTRING)_Speaker1)
AND
DB_LeaderLib_DialogOverride_Registered_RegularDialog(_Speaker1, _Dialog, _UseDialog)
AND
LeaderLib_DialogOverride_QRY_StartDialog(_Automated,_RedirectionEnabled,_UseDialog,_Speaker1)
THEN
DB_LeaderLib_DialogOverride_Temp_Success(_Dialog, _UseDialog);

PROC
LeaderLib_DialogOverride_Internal_StartDialog((INTEGER)_Automated,(INTEGER)_RedirectionEnabled,(STRING)_Dialog,(GUIDSTRING)_Speaker1,(GUIDSTRING)_Speaker2)
AND
DB_LeaderLib_DialogOverride_Registered_RegularDialog(_SpeakerMatch, _Dialog, _UseDialog)
AND
LeaderLib_DialogOverride_QRY_SpeakerMatch(_Dialog, _SpeakerMatch, _Speaker1, _Speaker2)
AND
LeaderLib_DialogOverride_QRY_StartDialog(_Automated,_RedirectionEnabled,_UseDialog,_Speaker1,_Speaker2)
THEN
DB_LeaderLib_DialogOverride_Temp_Success(_Dialog, _UseDialog);

PROC
LeaderLib_DialogOverride_Internal_StartDialog((INTEGER)_Automated,(INTEGER)_RedirectionEnabled,(STRING)_Dialog,(GUIDSTRING)_Speaker1,(GUIDSTRING)_Speaker2,(GUIDSTRING)_Speaker3)
AND
DB_LeaderLib_DialogOverride_Registered_RegularDialog(_SpeakerMatch, _Dialog, _UseDialog)
AND
LeaderLib_DialogOverride_QRY_SpeakerMatch(_Dialog, _SpeakerMatch, _Speaker1, _Speaker2, _Speaker3)
AND
LeaderLib_DialogOverride_QRY_StartDialog(_Automated,_RedirectionEnabled,_UseDialog,_Speaker1,_Speaker2,_Speaker3)
THEN
DB_LeaderLib_DialogOverride_Temp_Success(_Dialog, _UseDialog);

PROC
LeaderLib_DialogOverride_Internal_StartDialog((INTEGER)_Automated,(INTEGER)_RedirectionEnabled,(STRING)_Dialog,(GUIDSTRING)_Speaker1,(GUIDSTRING)_Speaker2,(GUIDSTRING)_Speaker3,(GUIDSTRING)_Speaker4)
AND
DB_LeaderLib_DialogOverride_Registered_RegularDialog(_SpeakerMatch, _Dialog, _UseDialog)
AND
LeaderLib_DialogOverride_QRY_SpeakerMatch(_Dialog, _SpeakerMatch, _Speaker1, _Speaker2, _Speaker3, _Speaker4)
AND
LeaderLib_DialogOverride_QRY_StartDialog(_Automated,_RedirectionEnabled,_UseDialog,_Speaker1,_Speaker2,_Speaker3,_Speaker4)
THEN
DB_LeaderLib_DialogOverride_Temp_Success(_Dialog, _UseDialog);

PROC
LeaderLib_DialogOverride_Internal_StartDialog((INTEGER)_Automated,(INTEGER)_RedirectionEnabled,(STRING)_Dialog,(GUIDSTRING)_Speaker1,(GUIDSTRING)_Speaker2,(GUIDSTRING)_Speaker3,(GUIDSTRING)_Speaker4,(GUIDSTRING)_Speaker5)
AND
DB_LeaderLib_DialogOverride_Registered_RegularDialog(_SpeakerMatch, _Dialog, _UseDialog)
AND
LeaderLib_DialogOverride_QRY_SpeakerMatch(_Dialog, _SpeakerMatch, _Speaker1, _Speaker2, _Speaker3, _Speaker4, _Speaker5)
AND
LeaderLib_DialogOverride_QRY_StartDialog(_Automated,_RedirectionEnabled,_UseDialog,_Speaker1,_Speaker2,_Speaker3,_Speaker4,_Speaker5)
THEN
DB_LeaderLib_DialogOverride_Temp_Success(_Dialog, _UseDialog);

PROC
LeaderLib_DialogOverride_Internal_StartDialog((INTEGER)_Automated,(INTEGER)_RedirectionEnabled,(STRING)_Dialog,(GUIDSTRING)_Speaker1,(GUIDSTRING)_Speaker2,(GUIDSTRING)_Speaker3,(GUIDSTRING)_Speaker4,(GUIDSTRING)_Speaker5,(GUIDSTRING)_Speaker6)
AND
DB_LeaderLib_DialogOverride_Registered_RegularDialog(_SpeakerMatch, _Dialog, _UseDialog)
AND
LeaderLib_DialogOverride_QRY_SpeakerMatch(_Dialog, _SpeakerMatch, _Speaker1, _Speaker2, _Speaker3, _Speaker4, _Speaker5, _Speaker6)
AND
LeaderLib_DialogOverride_QRY_StartDialog(_Automated,_RedirectionEnabled,_UseDialog,_Speaker1,_Speaker2,_Speaker3,_Speaker4,_Speaker5,_Speaker6)
THEN
DB_LeaderLib_DialogOverride_Temp_Success(_Dialog, _UseDialog);
//END_REGION

//REGION DIALOG_PROC_START_DEFAULT
PROC
LeaderLib_DialogOverride_Internal_StartDialog((INTEGER)_Automated,(INTEGER)_RedirectionEnabled,(STRING)_Dialog,(GUIDSTRING)_Speaker1)
AND
NOT DB_LeaderLib_DialogOverride_Temp_Success(_Dialog, _)
AND
LeaderLib_DialogOverride_QRY_StartDialog(_Automated,_RedirectionEnabled,_Dialog,_Speaker1)
THEN
DB_NOOP(1);

PROC
LeaderLib_DialogOverride_Internal_StartDialog((INTEGER)_Automated,(INTEGER)_RedirectionEnabled,(STRING)_Dialog,(GUIDSTRING)_Speaker1,(GUIDSTRING)_Speaker2)
AND
NOT DB_LeaderLib_DialogOverride_Temp_Success(_Dialog, _)
AND
LeaderLib_DialogOverride_QRY_StartDialog(_Automated,_RedirectionEnabled,_Dialog,_Speaker1,_Speaker2)
THEN
DB_NOOP(1);

PROC
LeaderLib_DialogOverride_Internal_StartDialog((INTEGER)_Automated,(INTEGER)_RedirectionEnabled,(STRING)_Dialog,(GUIDSTRING)_Speaker1,(GUIDSTRING)_Speaker2,(GUIDSTRING)_Speaker3)
AND
NOT DB_LeaderLib_DialogOverride_Temp_Success(_Dialog, _)
AND
LeaderLib_DialogOverride_QRY_StartDialog(_Automated,_RedirectionEnabled,_Dialog,_Speaker1,_Speaker2,_Speaker3)
THEN
DB_NOOP(1);

PROC
LeaderLib_DialogOverride_Internal_StartDialog((INTEGER)_Automated,(INTEGER)_RedirectionEnabled,(STRING)_Dialog,(GUIDSTRING)_Speaker1,(GUIDSTRING)_Speaker2,(GUIDSTRING)_Speaker3,(GUIDSTRING)_Speaker4)
AND
NOT DB_LeaderLib_DialogOverride_Temp_Success(_Dialog, _)
AND
LeaderLib_DialogOverride_QRY_StartDialog(_Automated,_RedirectionEnabled,_Dialog,_Speaker1,_Speaker2,_Speaker3,_Speaker4)
THEN
DB_NOOP(1);

PROC
LeaderLib_DialogOverride_Internal_StartDialog((INTEGER)_Automated,(INTEGER)_RedirectionEnabled,(STRING)_Dialog,(GUIDSTRING)_Speaker1,(GUIDSTRING)_Speaker2,(GUIDSTRING)_Speaker3,(GUIDSTRING)_Speaker4,(GUIDSTRING)_Speaker5)
AND
NOT DB_LeaderLib_DialogOverride_Temp_Success(_Dialog, _)
AND
LeaderLib_DialogOverride_QRY_StartDialog(_Automated,_RedirectionEnabled,_Dialog,_Speaker1,_Speaker2,_Speaker3,_Speaker4,_Speaker5)
THEN
DB_NOOP(1);

PROC
LeaderLib_DialogOverride_Internal_StartDialog((INTEGER)_Automated,(INTEGER)_RedirectionEnabled,(STRING)_Dialog,(GUIDSTRING)_Speaker1,(GUIDSTRING)_Speaker2,(GUIDSTRING)_Speaker3,(GUIDSTRING)_Speaker4,(GUIDSTRING)_Speaker5,(GUIDSTRING)_Speaker6)
AND
NOT DB_LeaderLib_DialogOverride_Temp_Success(_Dialog, _)
AND
LeaderLib_DialogOverride_QRY_StartDialog(_Automated,_RedirectionEnabled,_Dialog,_Speaker1,_Speaker2,_Speaker3,_Speaker4,_Speaker5,_Speaker6)
THEN
DB_NOOP(1);
//END_REGION

//REGION REDIRECTION_TELEPORT
PROC
LeaderLib_DialogOverride_Internal_TeleportRedirectionTarget((GUIDSTRING)_Target, (GUIDSTRING)_OwnedObject)
AND
GetDistanceTo(_Target, _OwnedObject, _Dist)
AND
_Dist >= 10.0
THEN
TeleportTo(_Target, _OwnedObject, "LeaderLib_DialogRedirectionTargetTeleported", 0, 1);
DB_LeaderLib_DialogOverride_Temp_TeleportedRedirectionTarget(_Target);

PROC
LeaderLib_DialogOverride_Internal_TeleportRedirectionTarget((GUIDSTRING)_Target, (GUIDSTRING)_OwnedObject)
AND
NOT DB_LeaderLib_DialogOverride_Temp_TeleportedRedirectionTarget(_Target)
AND
ObjectIsCharacter((CHARACTERGUID)_Target, 1)
AND
CharacterCanSee(_Target, _OwnedObject, 0)
THEN
TeleportTo(_Target, _OwnedObject, "LeaderLib_DialogRedirectionTargetTeleported", 0, 1);
DB_LeaderLib_DialogOverride_Temp_TeleportedRedirectionTarget((GUIDSTRING)_Target);

PROC
LeaderLib_DialogOverride_Internal_TeleportRedirectionTarget((GUIDSTRING)_Target, (GUIDSTRING)_OwnedObject)
AND
DB_LeaderLib_DialogOverride_Temp_TeleportedRedirectionTarget((GUIDSTRING)_Target)
THEN
NOT DB_LeaderLib_DialogOverride_Temp_TeleportedRedirectionTarget((GUIDSTRING)_Target);

IF
DB_LeaderLib_DialogOverride_Temp_RedirectionTarget((STRING)_Dialog, (GUIDSTRING)_Avatar, (GUIDSTRING)_Target)
THEN
LeaderLib_DialogOverride_Internal_TeleportRedirectionTarget(_Avatar, _Target);
//END_REGION

//REGION GET_REDIRECTION_CONDITIONS
QRY
LeaderLib_DialogOverride_QRY_CanRedirect((STRING)_Dialog)
AND
NOT DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog,_,_)
AND
NOT DB_LeaderLib_DialogOverride_Redirection_BlacklistedDialog(_Dialog)
AND
NOT DB_LeaderLib_ModMenu_RegisteredMenuData(_,_,_Dialog,_,_)
AND
NOT DB_PartyDecisionDialog_OutcomeEvent(_Dialog,_,_) // Ignore party decision dialogs
THEN
DB_NOOP(1);

QRY
LeaderLib_DialogOverride_QRY_CanRedirectObject((GUIDSTRING)_Speaker)
AND
IsTagged(_Speaker, "AVATAR", 0)
AND
ObjectIsCharacter((CHARACTERGUID)_Speaker, 1)
AND
CharacterIsPartyMember(_Speaker, 1)
THEN
DB_NOOP(1);
//END_REGION

//REGION REDIRECT_CONTROLLED_SPEAKER
QRY
LeaderLib_DialogOverride_QRY_StartDialog(0,1,(STRING)_Dialog,(GUIDSTRING)_Speaker1)
AND
QRY_StartDialog(0,(STRING)_Dialog,(GUIDSTRING)_Speaker1)
THEN
DB_LeaderLib_DialogOverride_Temp_Success(_Dialog, _Dialog);

QRY
LeaderLib_DialogOverride_QRY_StartDialog(0,1,(STRING)_Dialog,(GUIDSTRING)_Speaker1,(GUIDSTRING)_Speaker2)
AND
LeaderLib_DialogOverride_QRY_GetRedirectionTarget(_Dialog, _Speaker1, _Speaker2)
AND
DB_LeaderLib_DialogOverride_Temp_Order(_Dialog, _a, _b)
AND
QRY_StartDialog(0,_Dialog,_a,_b)
THEN
NOT DB_LeaderLib_DialogOverride_Temp_Order(_Dialog, _a, _b);
DB_LeaderLib_DialogOverride_Temp_Success(_Dialog, _Dialog);

QRY
LeaderLib_DialogOverride_QRY_StartDialog(0,1,(STRING)_Dialog,(GUIDSTRING)_Speaker1,(GUIDSTRING)_Speaker2,(GUIDSTRING)_Speaker3)
AND
LeaderLib_DialogOverride_QRY_GetRedirectionTarget(_Dialog, _Speaker1, _Speaker2, _Speaker3)
AND
DB_LeaderLib_DialogOverride_Temp_Order(_Dialog, _a, _b, _C)
AND
QRY_StartDialog(0,_Dialog,_a,_b,_c)
THEN
NOT DB_LeaderLib_DialogOverride_Temp_Order(_Dialog, _a, _b, _C);
DB_LeaderLib_DialogOverride_Temp_Success(_Dialog, _Dialog);

QRY
LeaderLib_DialogOverride_QRY_StartDialog(0,1,(STRING)_Dialog,(GUIDSTRING)_Speaker1,(GUIDSTRING)_Speaker2,(GUIDSTRING)_Speaker3,(GUIDSTRING)_Speaker4)
AND
LeaderLib_DialogOverride_QRY_GetRedirectionTarget(_Dialog, _Speaker1, _Speaker2, _Speaker3, _Speaker4)
AND
DB_LeaderLib_DialogOverride_Temp_Order(_Dialog, _a, _b, _C, _d)
AND
QRY_StartDialog(0,_Dialog,_a,_b,_c,_d)
THEN
NOT DB_LeaderLib_DialogOverride_Temp_Order(_Dialog, _a, _b, _C, _d);
DB_LeaderLib_DialogOverride_Temp_Success(_Dialog, _Dialog);

QRY
LeaderLib_DialogOverride_QRY_StartDialog(0,1,(STRING)_Dialog,(GUIDSTRING)_Speaker1,(GUIDSTRING)_Speaker2,(GUIDSTRING)_Speaker3,(GUIDSTRING)_Speaker4,(GUIDSTRING)_Speaker5)
AND
LeaderLib_DialogOverride_QRY_GetRedirectionTarget(_Dialog, _Speaker1, _Speaker2, _Speaker3, _Speaker4, _Speaker5)
AND
DB_LeaderLib_DialogOverride_Temp_Order(_Dialog, _a, _b, _C, _d, _e)
AND
QRY_StartDialog(0,_Dialog,_a,_b,_c,_d,_e)
THEN
NOT DB_LeaderLib_DialogOverride_Temp_Order(_Dialog, _a, _b, _C, _d, _e);
DB_LeaderLib_DialogOverride_Temp_Success(_Dialog, _Dialog);

QRY
LeaderLib_DialogOverride_QRY_StartDialog(0,1,(STRING)_Dialog,(GUIDSTRING)_Speaker1,(GUIDSTRING)_Speaker2,(GUIDSTRING)_Speaker3,(GUIDSTRING)_Speaker4,(GUIDSTRING)_Speaker5,(GUIDSTRING)_Speaker6)
AND
LeaderLib_DialogOverride_QRY_GetRedirectionTarget(_Dialog, _Speaker1, _Speaker2, _Speaker3, _Speaker4, _Speaker5, _Speaker6)
AND
DB_LeaderLib_DialogOverride_Temp_Order(_Dialog, _a, _b, _C, _d, _e, _f)
AND
QRY_StartDialog(0,_Dialog,_a,_b,_c,_d,_e,_f)
THEN
NOT DB_LeaderLib_DialogOverride_Temp_Order(_Dialog, _a, _b, _C, _d, _e, _f);
DB_LeaderLib_DialogOverride_Temp_Success(_Dialog, _Dialog);
//END_REGION

//REGION DIALOG_STARTING_DEFAULT
QRY
LeaderLib_DialogOverride_QRY_StartDialog((INTEGER)_Automated,(INTEGER)_RedirectionEnabled,(STRING)_Dialog,(GUIDSTRING)_Speaker1)
AND
NOT DB_LeaderLib_DialogOverride_Temp_Success(_Dialog, _)
AND
QRY_StartDialog(_Automated,(STRING)_Dialog,(GUIDSTRING)_Speaker1)
THEN
DB_NOOP(1);

QRY
LeaderLib_DialogOverride_QRY_StartDialog((INTEGER)_Automated,(INTEGER)_RedirectionEnabled,(STRING)_Dialog,(GUIDSTRING)_Speaker1,(GUIDSTRING)_Speaker2)
AND
NOT DB_LeaderLib_DialogOverride_Temp_Success(_Dialog, _)
AND
QRY_StartDialog(_Automated,(STRING)_Dialog,(GUIDSTRING)_Speaker1,(GUIDSTRING)_Speaker2)
THEN
DB_NOOP(1);

QRY
LeaderLib_DialogOverride_QRY_StartDialog((INTEGER)_Automated,(INTEGER)_RedirectionEnabled,(STRING)_Dialog,(GUIDSTRING)_Speaker1,(GUIDSTRING)_Speaker2,(GUIDSTRING)_Speaker3)
AND
NOT DB_LeaderLib_DialogOverride_Temp_Success(_Dialog, _)
AND
QRY_StartDialog(_Automated,(STRING)_Dialog,(GUIDSTRING)_Speaker1,(GUIDSTRING)_Speaker2,(GUIDSTRING)_Speaker3)
THEN
DB_NOOP(1);

QRY
LeaderLib_DialogOverride_QRY_StartDialog((INTEGER)_Automated,(INTEGER)_RedirectionEnabled,(STRING)_Dialog,(GUIDSTRING)_Speaker1,(GUIDSTRING)_Speaker2,(GUIDSTRING)_Speaker3,(GUIDSTRING)_Speaker4)
AND
NOT DB_LeaderLib_DialogOverride_Temp_Success(_Dialog, _)
AND
QRY_StartDialog(_Automated,(STRING)_Dialog,(GUIDSTRING)_Speaker1,(GUIDSTRING)_Speaker2,(GUIDSTRING)_Speaker3,(GUIDSTRING)_Speaker4)
THEN
DB_NOOP(1);

QRY
LeaderLib_DialogOverride_QRY_StartDialog((INTEGER)_Automated,(INTEGER)_RedirectionEnabled,(STRING)_Dialog,(GUIDSTRING)_Speaker1,(GUIDSTRING)_Speaker2,(GUIDSTRING)_Speaker3,(GUIDSTRING)_Speaker4,(GUIDSTRING)_Speaker5)
AND
NOT DB_LeaderLib_DialogOverride_Temp_Success(_Dialog, _)
AND
QRY_StartDialog(_Automated,(STRING)_Dialog,(GUIDSTRING)_Speaker1,(GUIDSTRING)_Speaker2,(GUIDSTRING)_Speaker3,(GUIDSTRING)_Speaker4,(GUIDSTRING)_Speaker5)
THEN
DB_NOOP(1);

QRY
LeaderLib_DialogOverride_QRY_StartDialog((INTEGER)_Automated,(INTEGER)_RedirectionEnabled,(STRING)_Dialog,(GUIDSTRING)_Speaker1,(GUIDSTRING)_Speaker2,(GUIDSTRING)_Speaker3,(GUIDSTRING)_Speaker4,(GUIDSTRING)_Speaker5,(GUIDSTRING)_Speaker6)
AND
NOT DB_LeaderLib_DialogOverride_Temp_Success(_Dialog, _)
AND
QRY_StartDialog(_Automated,(STRING)_Dialog,(GUIDSTRING)_Speaker1,(GUIDSTRING)_Speaker2,(GUIDSTRING)_Speaker3,(GUIDSTRING)_Speaker4,(GUIDSTRING)_Speaker5,(GUIDSTRING)_Speaker6)
THEN
DB_NOOP(1);
//END_REGION

//REGION CLEAR_DATA
PROC
LeaderLib_DialogOverride_Internal_ClearTempData((STRING)_Dialog)
AND
DB_LeaderLib_DialogOverride_Temp_Success(_Dialog, _DialogOverride)
THEN
NOT DB_LeaderLib_DialogOverride_Temp_Success(_Dialog, _DialogOverride);

PROC
LeaderLib_DialogOverride_Internal_ClearTempData((STRING)_Dialog)
AND
DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, (GUIDSTRING)_Avatar, (GUIDSTRING)_Speaker)
THEN
NOT DB_LeaderLib_DialogOverride_Temp_RedirectionTarget(_Dialog, _Avatar, _Speaker);

PROC
LeaderLib_DialogOverride_Internal_ClearTempData((STRING)_Dialog)
AND
DB_LeaderLib_DialogOverride_Temp_Order(_Dialog,_a,_b)
THEN
NOT DB_LeaderLib_DialogOverride_Temp_Order(_Dialog,_a,_b);

PROC
LeaderLib_DialogOverride_Internal_ClearTempData((STRING)_Dialog)
AND
DB_LeaderLib_DialogOverride_Temp_Order(_Dialog,_a,_b,_c)
THEN
NOT DB_LeaderLib_DialogOverride_Temp_Order(_Dialog,_a,_b,_c);

PROC
LeaderLib_DialogOverride_Internal_ClearTempData((STRING)_Dialog)
AND
DB_LeaderLib_DialogOverride_Temp_Order(_Dialog,_a,_b,_c,_d)
THEN
NOT DB_LeaderLib_DialogOverride_Temp_Order(_Dialog,_a,_b,_c,_d);

PROC
LeaderLib_DialogOverride_Internal_ClearTempData((STRING)_Dialog)
AND
DB_LeaderLib_DialogOverride_Temp_Order(_Dialog,_a,_b,_c,_d,_e)
THEN
NOT DB_LeaderLib_DialogOverride_Temp_Order(_Dialog,_a,_b,_c,_d,_e);

PROC
LeaderLib_DialogOverride_Internal_ClearTempData((STRING)_Dialog)
AND
DB_LeaderLib_DialogOverride_Temp_Order(_Dialog,_a,_b,_c,_d,_e,_f)
THEN
NOT DB_LeaderLib_DialogOverride_Temp_Order(_Dialog,_a,_b,_c,_d,_e,_f);

PROC
LeaderLib_DialogOverride_Internal_ClearTempData((STRING)_Dialog)
AND
DB_LeaderLib_DialogOverride_Temp_TeleportedRedirectionTarget((GUIDSTRING)_Target)
THEN
NOT DB_LeaderLib_DialogOverride_Temp_TeleportedRedirectionTarget((GUIDSTRING)_Target);

PROC
LeaderLib_DialogOverride_Internal_ClearTempData((STRING)_Dialog)
AND
DB_LeaderLib_DialogOverride_Temp_Match(_Dialog, _SpeakerMatch)
THEN
NOT DB_LeaderLib_DialogOverride_Temp_Match(_Dialog, _SpeakerMatch);
//END_REGION
EXITSECTION

ENDEXITSECTION
